(window.webpackJsonpfollowers=window.webpackJsonpfollowers||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"users":{"user1":{"id":1,"name":"Dan","group_id":1,"followers":[]},"user2":{"id":2,"name":"Sam","group_id":1,"followers":[]},"user3":{"id":3,"name":"Paul","group_id":2,"followers":[{"id":2,"name":"Sam","group_id":1,"followers":[]}]},"user4":{"id":4,"name":"Rudi","group_id":2,"followers":[]},"user5":{"id":5,"name":"Stive","group_id":3,"followers":[]},"user6":{"id":6,"name":"Jack","group_id":3,"followers":[]},"user7":{"id":7,"name":"Suzzy","group_id":4,"followers":[]},"user8":{"id":8,"name":"Marry","group_id":4,"followers":[]},"user9":{"id":9,"name":"Angela","group_id":5,"followers":[]},"user10":{"id":10,"name":"Bill","group_id":5,"followers":[]}},"groups":{"group1":{"id":1,"name":"Ruby developers"},"group2":{"id":2,"name":"Python developers"},"group3":{"id":3,"name":"C++ developers"},"group4":{"id":4,"name":"C# developers"},"group5":{"id":5,"name":"Java developers"}}}')},26:function(e,t,r){e.exports=r(40)},31:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r.n(s),o=r(15),a=r.n(o),u=(r(31),r(9)),l=r(14),i=r(19),c={currentUser:null,currentUsersList:i.users},p=Object(u.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{currentUser:t.payload.currentUser};default:return e}},usersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS_LIST":return{currentUsersList:t.payload.currentUsersList};default:return e}}}),f=r(4),d=r(5),m=r(7),g=r(6),h=r(8),w=function(e){return{type:"SET_USER",payload:{currentUser:e}}},U=function(e){return{type:"SET_USERS_LIST",payload:{currentUsersList:e}}},v=function(e){function t(){var e,r;Object(f.a)(this,t);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(r=Object(m.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={currentUser:r.props.currentUser},r.handleSighOut=function(){localStorage.removeItem("currentUser"),r.props.setUser(null)},r.handleSignIn=function(){var e={id:1,name:"Dan",group_id:1,followers:[]};localStorage.setItem("currentUser",JSON.stringify(e)),r.props.setUser(e)},r}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.currentUser!==e.currentUser&&this.setState({currentUser:this.props.currentUser})}},{key:"render",value:function(){return n.a.createElement("div",null,this.props.currentUser?n.a.createElement("div",null,"welcome ",this.props.currentUser.name,n.a.createElement("button",{onClick:this.handleSighOut},"Log out")):n.a.createElement("div",null,n.a.createElement("div",null,"Must be signed in"),n.a.createElement("button",{onClick:this.handleSignIn},"Log in as user1")))}}]),t}(s.Component),b=Object(l.b)(null,{setUser:w})(v),O=(r(37),r(17)),S=function(e){function t(){var e,r;Object(f.a)(this,t);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(r=Object(m.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={followed:!1,user:r.props.user,currentUser:r.props.currentUser,buttonText:"Follow",buttonClass:"follow"},r.onMouseOverHandler=function(e){e.preventDefault(),!0===r.state.followed&&r.setState({buttonText:"Unfollow",buttonClass:"unfollow"})},r.onMouseLeaveHandler=function(e){e.preventDefault(),!1===r.state.followed?r.setState({buttonText:"Follow",buttonClass:"follow"}):!0===r.state.followed&&r.setState({buttonText:"Following",buttonClass:"following"})},r.setUsers=function(){var e=r.props.currentUsersList;r.props.setUsersList(e),localStorage.setItem("usersList",JSON.stringify(e))},r.handleClick=function(e){var t=r.state,s=t.followed,n=t.user,o=t.currentUser;if(e.preventDefault(),!1===s)n.followers.push(o),r.setUsers(),r.setState({followed:!0,buttonText:"Unfollow",buttonClass:"unfollow"});else{var a=n.followers.indexOf(o);n.followers.splice(a,1),r.setUsers(),r.setState({followed:!1,buttonText:"Follow",buttonClass:"follow"})}},r}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.user.followers.map(function(t){t.name===e.props.currentUser.name&&e.setState({followed:!0,buttonText:"Following",buttonClass:"following"})})}},{key:"render",value:function(){return n.a.createElement("button",{onMouseOver:this.onMouseOverHandler,onMouseLeave:this.onMouseLeaveHandler,onClick:this.handleClick,className:this.state.buttonClass},this.state.buttonText)}}]),t}(s.Component),y=Object(O.a)(function(e){return{currentUsersList:e.usersList.currentUsersList}},{setUsersList:U})(S),L=(r(38),function(e){function t(){var e,r;Object(f.a)(this,t);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return(r=Object(m.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).state={currentUser:r.props.currentUser,users:r.props.users,groups:r.props.groups},r.getList=function(e){return e?Object.values(e).map(function(e,t){if(e.name!==r.state.currentUser.name)return n.a.createElement("div",{key:t},e.name,n.a.createElement("span",{className:"info"}," ",(e.followers||[]).length," "),n.a.createElement("span",{className:"info"},"  ",r.getGroup(e,r.state.groups)," "),n.a.createElement(y,{users:r.state.users,user:e,currentUser:r.state.currentUser}))}):null},r.getGroup=function(e,t){return Object.values(t).map(function(t){if(t.id===e.group_id)return t.name})},r}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,"Choose users to follow:",this.getList(this.state.users))}}]),t}(s.Component)),j=(r(39),function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.setUser(JSON.parse(localStorage.getItem("currentUser"))),localStorage.getItem("usersList")&&this.props.setUsersList(JSON.parse(localStorage.getItem("usersList")))}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(b,{currentUser:this.props.currentUser}),this.props.currentUser?n.a.createElement(L,{users:this.props.usersList.currentUsersList,groups:i.groups,currentUser:this.props.currentUser}):null)}}]),t}(s.Component)),E=Object(l.b)(function(e){return{currentUser:e.user.currentUser,usersList:e.usersList}},{setUser:w,setUsersList:U})(j);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=r(25),_=Object(u.createStore)(p,Object(C.composeWithDevTools)());a.a.render(n.a.createElement(l.a,{store:_},n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.2db3f434.chunk.js.map