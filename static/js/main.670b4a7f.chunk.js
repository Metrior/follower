(window.webpackJsonpfollowers=window.webpackJsonpfollowers||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"users":{"user1":{"id":1,"name":"Dan","group_id":1,"followers":[]},"user2":{"id":2,"name":"Sam","group_id":1,"followers":[]},"user3":{"id":3,"name":"Paul","group_id":2,"followers":[{"id":2,"name":"Sam","group_id":1,"followers":[]}]},"user4":{"id":4,"name":"Rudi","group_id":2,"followers":[]},"user5":{"id":5,"name":"Stive","group_id":3,"followers":[]},"user6":{"id":6,"name":"Jack","group_id":3,"followers":[]},"user7":{"id":7,"name":"Suzzy","group_id":4,"followers":[]},"user8":{"id":8,"name":"Marry","group_id":4,"followers":[]},"user9":{"id":9,"name":"Angela","group_id":5,"followers":[]},"user10":{"id":10,"name":"Bill","group_id":5,"followers":[]}},"groups":{"group1":{"id":1,"name":"Ruby developers"},"group2":{"id":2,"name":"Python developers"},"group3":{"id":3,"name":"C++ developers"},"group4":{"id":4,"name":"C# developers"},"group5":{"id":5,"name":"Java developers"}}}')},23:function(e,t,r){e.exports={follow:"FollowButton_follow__zp-2V",following:"FollowButton_following__3plRe"}},24:function(e,t,r){e.exports={info:"User_info__fTEy8"}},27:function(e,t,r){e.exports={app:"App_app__1kX79"}},29:function(e,t,r){e.exports=r(40)},34:function(e,t,r){},40:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),o=r(15),a=r.n(o),u=(r(34),r(9)),l=r(14),i=r(19),c={currentUser:null,currentUsersList:i.users},p=Object(u.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{currentUser:t.payload.currentUser};default:return e}},usersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS_LIST":return{currentUsersList:t.payload.currentUsersList};default:return e}}}),f=r(2),d=r(3),m=r(5),h=r(4),g=r(6),w=r(27),v=r.n(w),b=function(e){return{type:"SET_USER",payload:{currentUser:e}}},U=function(e){return{type:"SET_USERS_LIST",payload:{currentUsersList:e}}},O=function(e){function t(){var e,r;Object(f.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(r=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={currentUser:r.props.currentUser},r.handleSighOut=function(){localStorage.removeItem("currentUser"),r.props.setUser(null)},r.handleSignIn=function(){var e={id:1,name:"Dan",group_id:1,followers:[]};localStorage.setItem("currentUser",JSON.stringify(e)),r.props.setUser(e)},r}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.props.currentUser?s.a.createElement("div",null,"welcome ",this.props.currentUser.name,s.a.createElement("button",{onClick:this.handleSighOut},"Log out")):s.a.createElement("div",null,s.a.createElement("div",null,"Must be signed in"),s.a.createElement("button",{onClick:this.handleSignIn},"Log in as user1")))}}]),t}(n.Component),j=Object(l.b)(null,{setUser:b})(O),S=r(23),y=r.n(S),_=r(17),E=function(e){function t(){var e,r;Object(f.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(r=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).state={followed:!1,user:r.props.user,currentUser:r.props.currentUser,buttonText:"Follow"},r.onMouseOverHandler=function(){r.state.followed&&r.setState({buttonText:"Unfollow"})},r.onMouseLeaveHandler=function(){!1===r.state.followed?r.setState({buttonText:"Follow"}):!0===r.state.followed&&r.setState({buttonText:"Following"})},r.setUsers=function(){var e=r.props.currentUsersList;r.props.setUsersList(e),localStorage.setItem("usersList",JSON.stringify(e))},r.handleClick=function(e){var t=r.state,n=t.followed,s=t.user,o=t.currentUser;if(e.preventDefault(),!1===n)s.followers.push(o),r.setUsers(),r.setState({followed:!0,buttonText:"Unfollow"});else{var a=s.followers.indexOf(o);s.followers.splice(a,1),r.setUsers(),r.setState({followed:!1,buttonText:"Follow"})}},r}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.user.followers.map(function(t){t.name===e.props.currentUser.name&&e.setState({followed:!0,buttonText:"Following"})})}},{key:"render",value:function(){return s.a.createElement("button",{onMouseOver:this.onMouseOverHandler,onMouseLeave:this.onMouseLeaveHandler,onClick:this.handleClick,className:this.state.followed?y.a.following:y.a.follow},this.state.buttonText)}}]),t}(n.Component),L=Object(_.a)(function(e){return{currentUsersList:e.usersList.currentUsersList}},{setUsersList:U})(E),k=r(24),T=r.n(k),x=function(e){function t(){var e,r;Object(f.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(r=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).getGroup=function(e,t){return Object.values(t).map(function(t){if(t.id===e.group_id)return t.name})},r}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return Object.values(this.props.users).map(function(t,r){if(t.name!==e.props.currentUser.name)return s.a.createElement("div",{key:r},t.name,s.a.createElement("span",{className:T.a.info}," ",(t.followers||[]).length," "),s.a.createElement("span",{className:T.a.info}," ",e.getGroup(t,e.props.groups)," "),s.a.createElement(L,{users:e.props.users,user:t,currentUser:e.props.currentUser}))})}}]),t}(n.Component),C=function(e){function t(){var e,r;Object(f.a)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={currentUser:r.props.currentUser,users:r.props.users,groups:r.props.groups},r.getList=function(e){return e?s.a.createElement(x,{users:e,currentUser:r.state.currentUser,groups:r.state.groups}):null},r}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"Choose users to follow:",this.getList(this.state.users))}}]),t}(n.Component),I=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.setUser(JSON.parse(localStorage.getItem("currentUser"))),localStorage.getItem("usersList")&&this.props.setUsersList(JSON.parse(localStorage.getItem("usersList")))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(j,{currentUser:this.props.currentUser}),this.props.currentUser?s.a.createElement(C,{users:this.props.usersList.currentUsersList,groups:i.groups,currentUser:this.props.currentUser}):null)}}]),t}(n.Component),M=Object(l.b)(function(e){return{currentUser:e.user.currentUser,usersList:e.usersList}},{setUser:b,setUsersList:U})(I),J=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:v.a.app},s.a.createElement(M,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=r(28),R=Object(u.createStore)(p,Object(N.composeWithDevTools)());a.a.render(s.a.createElement(l.a,{store:R},s.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.670b4a7f.chunk.js.map