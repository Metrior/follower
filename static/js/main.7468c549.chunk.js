(window.webpackJsonpfollowers=window.webpackJsonpfollowers||[]).push([[0],{19:function(e){e.exports=JSON.parse('{"users":{"user1":{"id":1,"name":"Dan","group_id":1,"followers":[]},"user2":{"id":2,"name":"Sam","group_id":1,"followers":[]},"user3":{"id":3,"name":"Paul","group_id":2,"followers":[{"id":2,"name":"Sam","group_id":1,"followers":[]}]},"user4":{"id":4,"name":"Rudi","group_id":2,"followers":[]},"user5":{"id":5,"name":"Stive","group_id":3,"followers":[]},"user6":{"id":6,"name":"Jack","group_id":3,"followers":[]},"user7":{"id":7,"name":"Suzzy","group_id":4,"followers":[]},"user8":{"id":8,"name":"Marry","group_id":4,"followers":[]},"user9":{"id":9,"name":"Angela","group_id":5,"followers":[]},"user10":{"id":10,"name":"Bill","group_id":5,"followers":[]}},"groups":{"group1":{"id":1,"name":"Ruby developers"},"group2":{"id":2,"name":"Python developers"},"group3":{"id":3,"name":"C++ developers"},"group4":{"id":4,"name":"C# developers"},"group5":{"id":5,"name":"Java developers"}}}')},26:function(e,r,t){e.exports=t(40)},31:function(e,r,t){},37:function(e,r,t){},38:function(e,r,t){},39:function(e,r,t){},40:function(e,r,t){"use strict";t.r(r);var s=t(0),n=t.n(s),o=t(15),a=t.n(o),u=(t(31),t(9)),l=t(14),i=t(19),c={currentUser:null,currentUsersList:i.users},p=Object(u.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"SET_USER":return{currentUser:r.payload.currentUser};default:return e}},usersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"SET_USERS_LIST":return{currentUsersList:r.payload.currentUsersList};default:return e}}}),d=t(4),f=t(5),m=t(7),g=t(6),h=t(8),w=function(e){return{type:"SET_USER",payload:{currentUser:e}}},v=function(e){return{type:"SET_USERS_LIST",payload:{currentUsersList:e}}},U=function(e){function r(){var e,t;Object(d.a)(this,r);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(g.a)(r)).call.apply(e,[this].concat(n)))).state={currentUser:t.props.currentUser},t.handleSighOut=function(){localStorage.removeItem("currentUser"),t.props.setUser(null)},t.handleSignIn=function(){var e={id:1,name:"Dan",group_id:1,followers:[]};localStorage.setItem("currentUser",JSON.stringify(e)),t.props.setUser(e)},t}return Object(h.a)(r,e),Object(f.a)(r,[{key:"componentDidUpdate",value:function(e){this.props.currentUser!==e.currentUser&&this.setState({currentUser:this.props.currentUser})}},{key:"render",value:function(){return n.a.createElement("div",null,this.props.currentUser?n.a.createElement("div",null,"welcome ",this.props.currentUser.name,n.a.createElement("button",{onClick:this.handleSighOut},"Log out")):n.a.createElement("div",null,n.a.createElement("div",null,"Must be signed in"),n.a.createElement("button",{onClick:this.handleSignIn},"Log in as user1")))}}]),r}(s.Component),O=Object(l.b)(null,{setUser:w})(U),b=(t(37),t(17)),S=function(e){function r(){var e,t;Object(d.a)(this,r);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(g.a)(r)).call.apply(e,[this].concat(n)))).state={followed:!1,user:t.props.user,currentUser:t.props.currentUser},t.onMouseOverHandler=function(e){e.preventDefault(),!0===t.state.followed&&(e.target.innerText="Unfollow")},t.onMouseLeaveHandler=function(e){e.preventDefault(),!1===t.state.followed?e.target.innerText="Follow":!0===t.state.followed&&(e.target.innerText="Following")},t.handleClick=function(e){var r=t.state,s=r.followed,n=r.user,o=r.currentUser;if(e.preventDefault(),!1===s){n.followers.push(o);var a=t.props.currentUsersList;t.props.setUsersList(a),localStorage.setItem("usersList",JSON.stringify(a)),t.setState({followed:!0,innerButtonText:"Following"}),e.target.className="following"}else{var u=n.followers.indexOf(o);n.followers.splice(u,1);var l=t.props.currentUsersList;t.props.setUsersList(l),localStorage.setItem("usersList",JSON.stringify(l)),t.setState({followed:!1,innerButtonText:"Follow"}),e.target.className="follow"}},t}return Object(h.a)(r,e),Object(f.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.state.user.followers.map(function(r){r.name===e.props.currentUser.name&&e.setState({followed:!0})})}},{key:"render",value:function(){return n.a.createElement("button",{onMouseEnter:this.onMouseOverHandler,onMouseLeave:this.onMouseLeaveHandler,onClick:this.handleClick,className:this.state.followed?"following":"follow"},this.state.followed?"Following":"Follow")}}]),r}(s.Component),y=Object(b.a)(function(e){return{currentUsersList:e.usersList.currentUsersList}},{setUsersList:v})(S),L=(t(38),function(e){function r(){var e,t;Object(d.a)(this,r);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return(t=Object(m.a)(this,(e=Object(g.a)(r)).call.apply(e,[this].concat(o)))).state={currentUser:t.props.currentUser,users:t.props.users,groups:t.props.groups},t.getList=function(e){return e?Object.values(e).map(function(e,r){if(e.name!==t.state.currentUser.name)return n.a.createElement("div",{key:r},e.name,n.a.createElement("span",{className:"info"}," ",(e.followers||[]).length," "),n.a.createElement("span",{className:"info"},"  ",t.getGroup(e,t.state.groups)," "),n.a.createElement(y,{users:t.state.users,user:e,currentUser:t.state.currentUser}))}):null},t.getGroup=function(e,r){return Object.values(r).map(function(r){if(r.id===e.group_id)return r.name})},t}return Object(h.a)(r,e),Object(f.a)(r,[{key:"render",value:function(){return n.a.createElement("div",null,"Choose users to follow:",this.getList(this.state.users))}}]),r}(s.Component)),j=(t(39),function(e){function r(){return Object(d.a)(this,r),Object(m.a)(this,Object(g.a)(r).apply(this,arguments))}return Object(h.a)(r,e),Object(f.a)(r,[{key:"componentDidMount",value:function(){this.props.setUser(JSON.parse(localStorage.getItem("currentUser"))),localStorage.getItem("usersList")&&this.props.setUsersList(JSON.parse(localStorage.getItem("usersList")))}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(O,{currentUser:this.props.currentUser}),this.props.currentUser?n.a.createElement(L,{users:this.props.usersList.currentUsersList,groups:i.groups,currentUser:this.props.currentUser}):null)}}]),r}(s.Component)),E=Object(l.b)(function(e){return{currentUser:e.user.currentUser,usersList:e.usersList}},{setUser:w,setUsersList:v})(j);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=t(25),k=Object(u.createStore)(p,Object(_.composeWithDevTools)());a.a.render(n.a.createElement(l.a,{store:k},n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.7468c549.chunk.js.map