(window.webpackJsonpfollowers=window.webpackJsonpfollowers||[]).push([[0],[,,,,,,function(e){e.exports=JSON.parse('{"users":{"user1":{"id":1,"name":"Dan","group_id":1,"followers":[]},"user2":{"id":2,"name":"Sam","group_id":1,"followers":[]},"user3":{"id":3,"name":"Paul","group_id":2,"followers":[{"id":2,"name":"Sam","group_id":1,"followers":[]}]},"user4":{"id":4,"name":"Rudi","group_id":2,"followers":[]},"user5":{"id":5,"name":"Stive","group_id":3,"followers":[]},"user6":{"id":6,"name":"Jack","group_id":3,"followers":[]},"user7":{"id":7,"name":"Suzzy","group_id":4,"followers":[]},"user8":{"id":8,"name":"Marry","group_id":4,"followers":[]},"user9":{"id":9,"name":"Angela","group_id":5,"followers":[]},"user10":{"id":10,"name":"Bill","group_id":5,"followers":[]}},"groups":{"group1":{"id":1,"name":"Ruby developers"},"group2":{"id":2,"name":"Python developers"},"group3":{"id":3,"name":"C++ developers"},"group4":{"id":4,"name":"C# developers"},"group5":{"id":5,"name":"Java developers"}}}')},,,function(e,t,r){e.exports=r(18)},,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(8),s=r.n(a),l=(r(14),r(1)),u=r(2),i=r(4),c=r(3),p=r(5),d=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={currentUser:r.props.currentUser},r.handleSighOut=function(){localStorage.removeItem("currentUser"),r.setState({currentUser:null})},r.handleSignIn=function(){localStorage.setItem("currentUser",JSON.stringify({id:1,name:"Dan",group_id:1,followers:[]})),r.setState({currentUser:localStorage.getItem("currentUser")})},r}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.currentUser!==e.currentUser&&this.setState({currentUser:this.props.currentUser})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.currentUser?o.a.createElement("div",null,"welcome ",JSON.parse(this.state.currentUser).name,o.a.createElement("button",{onClick:this.handleSighOut},"Log out")):o.a.createElement("div",null,o.a.createElement("div",null,"Must be signed in"),o.a.createElement("button",{onClick:this.handleSignIn},"Log in as user1")))}}]),t}(n.Component),f=(r(15),r(16),function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={followed:!1,innerButtonText:"Follow",user:r.props.user,currentUser:r.props.currentUser},r.onMouseOverHandler=function(e){e.preventDefault(),!0===r.state.followed&&(r.setState({innerButtonText:"Unfollow"}),e.target.className="unfollow")},r.onMouseLeaveHandler=function(e){e.preventDefault(),!1===r.state.followed?(r.setState({innerButtonText:"Follow"}),e.target.className="follow"):!0===r.state.followed&&(r.setState({innerButtonText:"Following"}),e.target.className="following")},r.handleClick=function(e){var t=r.state,n=t.followed,o=t.user,a=t.currentUser;if(e.preventDefault(),!1===n)o.followers.push(a),r.setState({followed:!0,innerButtonText:"Following"}),e.target.className="following";else{var s=o.followers.indexOf(a);o.followers.splice(s,1),r.setState({followed:!1,innerButtonText:"Follow"}),e.target.className="follow"}},r}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.innerButtonText;return o.a.createElement("div",null,o.a.createElement("button",{onMouseEnter:this.onMouseOverHandler,onMouseLeave:this.onMouseLeaveHandler,onClick:this.handleClick,className:"follow"},e))}}]),t}(n.Component)),m=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(r=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).state={currentUser:r.props.currentUser,users:r.props.users,groups:r.props.groups},r.getList=function(e){return Object.values(e).map(function(e){if(e.name!==r.state.currentUser.name)return o.a.createElement("div",null,e.name,e.followers.length,r.getGroup(e,r.state.groups),o.a.createElement(f,{user:e,currentUser:r.state.currentUser}))})},r.getGroup=function(e,t){return Object.values(t).map(function(t){if(t.id===e.group_id)return t.name})},r}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.currentUser!==e.currentUser;return console.log(t),t}},{key:"componentDidUpdate",value:function(e){this.props.currentUser!==e.currentUser&&(console.log(e,this.props),this.setState({currentUser:this.props.currentUser}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.getList(this.state.users),o.a.createElement("button",{onClick:function(){console.log(e.props.currentUser)}},"shit"))}}]),t}(n.Component),g=(r(17),r(6));var w=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d,{currentUser:localStorage.getItem("currentUser")}),JSON.parse(localStorage.getItem("currentUser"))?o.a.createElement(m,{users:g.users,groups:g.groups,currentUser:JSON.parse(localStorage.getItem("currentUser"))}):null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.a393bd55.chunk.js.map